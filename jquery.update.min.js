/*!
 * jQuery Update
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(d){var b="update",e="change",i="focus keyup",g="blur keydown",f="input,select,textarea",h="[type=text],[type=password],textarea,[type=search],[type=tel],[type=url],[type=email],[type=time],[type=datetime],[type=number],[type=color]",j="__update__",a="__handle__",c=d.event.special.update={timer:null,interval:600,setup:function(n,l){var m=this,k=d(m);if(k.is(f)){k.bind(e,c.test);if(k.is(h)){k.data(j,k.val()).bind(i,c.handleStart).bind(g,c.handleStop);}}else{k.data(a,function(o){d.event.handle.call(m,o);});k.find(f).bind(b,k.data(a));}},teardown:function(l){var k=d(this);if(k.is(f)){k.unbind(e,c.test);if(k.is(h)){k.removeData(j).unbind(i,c.handleStart).unbind(g,c.handleStop);}}else{k.find(f).unbind(b,k.data(a));k.removeData(a);}},handleUpdate:function(l){var k=new d.Event(l);k.type=b;d.event.handle.call(this,k);},test:function(k){var m=this,l=d(m),n=l.val();if(l.data(j)!==n){l.data(j,n);c.handleUpdate.call(m,k);}},handleStart:function(k){var l=this;if(!c.timer){c.timer=setTimeout(function(){c.test.call(l,k);c.timer=setTimeout(arguments.callee,c.interval);},c.interval);}},handleStop:function(){if(c.timer){c.timer=clearTimeout(c.timer);}}};d.fn.update=function(k){return k?this.bind(b,k):this.trigger(b);};})(jQuery);